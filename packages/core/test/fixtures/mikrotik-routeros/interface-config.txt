# MikroTik RouterOS Interface Configuration
# Bridge, VLAN, and bonding examples

/interface bridge
add name=bridge1 protocol-mode=rstp comment="Main LAN bridge"
add name=bridge-guest protocol-mode=rstp vlan-filtering=yes comment="Guest bridge with VLAN filtering"

/interface bridge port
add bridge=bridge1 interface=ether2 pvid=1
add bridge=bridge1 interface=ether3 pvid=1
add bridge=bridge1 interface=ether4 pvid=1
add bridge=bridge-guest interface=ether5 pvid=100

/interface bridge vlan
add bridge=bridge-guest tagged=bridge-guest vlan-ids=100
add bridge=bridge-guest tagged=bridge-guest vlan-ids=200

/interface vlan
add name=vlan100-guest interface=bridge1 vlan-id=100 comment="Guest VLAN"
add name=vlan200-mgmt interface=bridge1 vlan-id=200 comment="Management VLAN"
add name=vlan300-servers interface=bridge1 vlan-id=300 comment="Server VLAN"

/interface bonding
add name=bond1 mode=802.3ad slaves=ether6,ether7 link-monitoring=mii comment="LACP to core switch"

/interface wireguard
add name=wg0 listen-port=51820 private-key="cFakePrivateKeyGoesHerex="

/interface wireguard peers
add interface=wg0 public-key="pFakePublicKeyGoesHerex=" allowed-address=10.10.10.0/24 endpoint-address=remote.vpn.com endpoint-port=51820 persistent-keepalive=25

/ip address
add address=192.168.1.1/24 interface=bridge1 comment="LAN Gateway"
add address=192.168.100.1/24 interface=vlan100-guest comment="Guest Gateway"
add address=192.168.200.1/24 interface=vlan200-mgmt comment="Management Gateway"
add address=192.168.50.1/24 interface=bond1 comment="Trunk to core"
add address=10.10.10.1/24 interface=wg0 comment="WireGuard tunnel"

/interface ethernet
set [ find default-name=ether1 ] name=WAN mtu=1500 comment="ISP Connection"
set [ find default-name=ether2 ] name=LAN1 comment="Office LAN Port 1"
set [ find default-name=ether3 ] name=LAN2 comment="Office LAN Port 2"
set [ find default-name=ether4 ] name=LAN3 comment="Office LAN Port 3"
set [ find default-name=ether5 ] name=GUEST comment="Guest Network Port"
set [ find default-name=ether6 ] name=BOND-1 comment="Bond member 1"
set [ find default-name=ether7 ] name=BOND-2 comment="Bond member 2"
set [ find default-name=ether8 ] disabled=yes
set [ find default-name=ether9 ] disabled=yes
set [ find default-name=ether10 ] disabled=yes
