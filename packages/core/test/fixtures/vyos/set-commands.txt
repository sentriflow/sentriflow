set interfaces ethernet eth0 address '192.168.1.1/24'
set interfaces ethernet eth0 description 'WAN Interface'
set interfaces ethernet eth1 address '10.0.0.1/24'
set interfaces ethernet eth1 description 'LAN Interface'
set interfaces loopback lo

set system host-name vyos-router
set system login user vyos authentication encrypted-password '$6$rounds=656000$...'
set system name-server '8.8.8.8'
set system name-server '8.8.4.4'
set system ntp server '0.pool.ntp.org'
set system ntp server '1.pool.ntp.org'
set system syslog global facility all level info
set system time-zone 'America/New_York'

set service ssh port '22'
set service dhcp-server shared-network-name LAN subnet 10.0.0.0/24 default-router '10.0.0.1'
set service dhcp-server shared-network-name LAN subnet 10.0.0.0/24 dns-server '8.8.8.8'
set service dhcp-server shared-network-name LAN subnet 10.0.0.0/24 range 0 start '10.0.0.100'
set service dhcp-server shared-network-name LAN subnet 10.0.0.0/24 range 0 stop '10.0.0.200'

set firewall name WAN_IN default-action 'drop'
set firewall name WAN_IN rule 10 action 'accept'
set firewall name WAN_IN rule 10 state established 'enable'
set firewall name WAN_IN rule 10 state related 'enable'
set firewall name WAN_IN rule 20 action 'drop'
set firewall name WAN_IN rule 20 state invalid 'enable'

set nat source rule 100 outbound-interface 'eth0'
set nat source rule 100 source address '10.0.0.0/24'
set nat source rule 100 translation address 'masquerade'

set protocols static route 0.0.0.0/0 next-hop 192.168.1.254
set protocols bgp system-as '65000'
set protocols bgp parameters router-id '10.0.0.1'
set protocols bgp neighbor 192.168.1.2 remote-as '65001'
set protocols bgp neighbor 192.168.1.2 description 'ISP Peer'

set vpn ipsec ike-group IKE-STRONG proposal 1 encryption 'aes256'
set vpn ipsec ike-group IKE-STRONG proposal 1 hash 'sha256'
set vpn ipsec esp-group ESP-STRONG proposal 1 encryption 'aes256'
set vpn ipsec esp-group ESP-STRONG proposal 1 hash 'sha256'

set high-availability vrrp group LAN vrid '10'
set high-availability vrrp group LAN interface 'eth1'
set high-availability vrrp group LAN virtual-address '10.0.0.254'
set high-availability vrrp group LAN priority '200'
